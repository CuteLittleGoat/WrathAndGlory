# Linki i lokalizacje używane w projekcie

Poniżej znajduje się kompletna lista **wszystkich miejsc w kodzie**, które odwołują się do lokalizacji (ścieżek wewnętrznych, URL-i zewnętrznych i ścieżek w Firestore). Każdy punkt zawiera opis, do czego służy oraz co należy zmienić po przeniesieniu repozytorium do `WrathAndGlory/Infoczytnik`.

## 1. Linki do stron w repo (nawigacja w `index.html`)
- `./GM.html` — przycisk **Otwórz GM** na stronie startowej. To względna ścieżka do panelu MG.
- `./Infoczytnik.html` — przycisk **Otwórz Infoczytnik** na stronie startowej.
- `./GM.html?debug=1&logs=1&mockWs=1` — wariant debug panelu MG (parametry obecnie nie są obsługiwane w kodzie).
- `./Infoczytnik.html?debug=1&logs=1&mockAudio=1` — wariant debug Infoczytnika (parametry obecnie nie są obsługiwane).

**Co zmienić po przeniesieniu?**
- Nic, jeśli pliki `GM.html` i `Infoczytnik.html` pozostaną w tym samym folderze co `index.html`.
- Jeśli struktura katalogów się zmieni, zaktualizuj powyższe ścieżki tak, by prowadziły do nowego miejsca plików.

## 2. Wyświetlany adres GitHub Pages (tylko tekst w `index.html`)
- `https://cutelittlegoat.github.io/wh40k-data-slate/` — wyświetlany jako przykładowy adres hostingu.

**Co zmienić po przeniesieniu?**
- Podmień tekst w `index.html` na nowy adres:
  - docelowo: `https://cutelittlegoat.github.io/WrathAndGlory/Infoczytnik/`

## 3. Wewnętrzne ścieżki do konfiguracji
- `config/firebase-config.js` — ładowany jako zwykły `<script>` zarówno w `GM.html`, jak i `Infoczytnik.html`.

**Co zmienić po przeniesieniu?**
- Nic, o ile katalog `config/` pozostanie na tym samym poziomie co pliki HTML.
- Jeśli przeniesiesz konfigurację do innego miejsca, zaktualizuj `src` w obu plikach HTML.

## 4. Wewnętrzne assety (obrazy i audio) w `Infoczytnik.html`
- `assets/audio/global/Ping.mp3?v=<ASSET_VERSION>` — domyślny dźwięk „ping”.
- `assets/audio/global/Message.mp3?v=<ASSET_VERSION>` — domyślny dźwięk wiadomości.
- `assets/layouts/<frakcja>/*.png?v=<ASSET_VERSION>` — tła layoutów dla frakcji.
- `assets/logos/<frakcja>/*.png?v=<ASSET_VERSION>` — logotypy frakcji.

**Co zmienić po przeniesieniu?**
- Nic, jeśli folder `assets/` zostanie w tym samym miejscu względem `Infoczytnik.html`.
- Jeśli zmienisz strukturę katalogów, zaktualizuj mapy `LAYOUT_BG` i `FACTION_LOGO`, a także domyślne URL-e audio.

## 5. Zewnętrzne zasoby: Google Fonts
- Wspólny arkusz fontów:
  - `https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Cinzel:wght@400;700&family=Rajdhani:wght@400;600&family=Black+Ops+One&family=Staatliches&family=Orbitron:wght@400;700&family=Questrial&family=Russo+One&display=swap`
- Preconnect:
  - `https://fonts.googleapis.com`
  - `https://fonts.gstatic.com`

**Co zmienić po przeniesieniu?**
- Nic — to stałe URL-e Google Fonts niezależne od lokalizacji repo.

## 6. Zewnętrzne zasoby: Firebase SDK (CDN)
- `GM.html` używa Firebase compat:
  - `https://www.gstatic.com/firebasejs/9.6.8/firebase-app-compat.js`
  - `https://www.gstatic.com/firebasejs/9.6.8/firebase-firestore-compat.js`
- `Infoczytnik.html` używa Firebase modułowego:
  - `https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js`
  - `https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js`

**Co zmienić po przeniesieniu?**
- Nic — to stałe URL-e CDN.
- Aktualizacja tych wersji wymaga zmiany URL-i w `GM.html` i `Infoczytnik.html`.

## 7. Lokalizacje Firebase projektu (config)
Plik `config/firebase-config.js` zawiera:
- `authDomain: "wh40k-data-slate.firebaseapp.com"`
- `projectId: "wh40k-data-slate"`
- `storageBucket: "wh40k-data-slate.firebasestorage.app"`
- `apiKey`, `messagingSenderId`, `appId`

**Co zmienić po przeniesieniu?**
- Nic, jeśli nadal używasz **tego samego projektu Firebase**.
- Jeśli przenosisz się na nowy projekt Firebase, uaktualnij wszystkie pola w `config/firebase-config.js` (albo wygeneruj je z `firebase-config.template.js`).

## 8. Lokalizacje w Firestore (ścieżki dokumentów)
- Kolekcja: `dataslate`
- Dokument: `current`
- Ścieżka używana zarówno w `GM.html`, jak i `Infoczytnik.html`:
  - `dataslate/current`

**Co zmienić po przeniesieniu?**
- Nic, o ile chcesz utrzymać ten sam model danych.
- Jeśli zmienisz nazwę kolekcji lub dokumentu, musisz uaktualnić **oba** pliki HTML.

## 9. Dynamiczne URL-e audio z Firestore
- `pingUrl`, `msgUrl` lub `messageUrl` w dokumencie `dataslate/current` mogą wskazywać **dowolną** lokalizację audio (np. link zewnętrzny lub plik w repo).

**Co zmienić po przeniesieniu?**
- Jeśli w Firestore zapisujesz absolutne URL-e do plików w GitHub Pages, zaktualizuj je do nowej ścieżki (`/WrathAndGlory/Infoczytnik/`).
- Jeśli używasz ścieżek względnych (np. `assets/audio/...`), nic nie trzeba zmieniać.

## 10. Mechanizm cache-busting oparty o URL
- Infoczytnik wymusza `?v=<INF_VERSION>` przez `window.location.replace(...)`.
- Działa niezależnie od tego, czy repo jest w `/wh40k-data-slate/`, czy w `/WrathAndGlory/Infoczytnik/` — wykorzystuje bieżący adres w przeglądarce.

**Co zmienić po przeniesieniu?**
- Nic — mechanizm opiera się o aktualny URL.

---

## Podsumowanie zmian wymaganych po przeniesieniu
1. Zaktualizuj wyświetlany adres w `index.html` na: `https://cutelittlegoat.github.io/WrathAndGlory/Infoczytnik/`.
2. Jeśli zmienisz strukturę katalogów, popraw wszystkie ścieżki względne (`./GM.html`, `./Infoczytnik.html`, `config/...`, `assets/...`).
3. Jeżeli używasz **absolutnych** URL-i do audio w Firestore, zaktualizuj je do nowej ścieżki.
4. Jeśli zmienisz projekt Firebase, zaktualizuj `config/firebase-config.js`.
